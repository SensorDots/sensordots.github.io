<!DOCTYPE html><html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# schema: http://schema.org/ sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# ">
<!-- Mirrored from sensordots.org/node/14 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 Aug 2022 12:25:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8" /><meta name="description" content="Firmware Updates
Each of the SensorDots is able to be firmware updated via the I2C lines, even while connected in circuit. Once powered on and connected to an I2C adapter/device, the software flow of the SendorDot firmware update procedure is as follows:" /><meta name="keywords" content="SensorDots Sensor Dots Small Smart Simple Sensors Filtering Polling Crosstalk Automatic Address Addressing Bus Easy Processing" /><meta name="Generator" content="Drupal 8 (https://www.drupal.org)" /><meta name="MobileOptimized" content="width" /><meta name="HandheldFriendly" content="true" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="../sites/default/files/favicon.ico" type="image/vnd.microsoft.icon" /><link rel="canonical" href="../firmware.html" /><link rel="shortlink" href="14.html" /><link rel="revision" href="../firmware.html" /><title>Firmware Updates | SensorDots</title><link rel="stylesheet" media="all" href="../sites/default/files/css/css_RJqZCut1W0h7YRAwy_VGhC4L7Kaay-HAQBzYzaGiHNA.css" /><link rel="stylesheet" media="all" href="../sites/default/files/css/css_TqP0rzTeinXkupgUr1mR41ebkMj_f9DCOzD1rEBC4ZY.css" /> <!--[if lte IE 8]><script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script><![endif]--></head><body class="path-node page-node-type-page"> <a href="#main-content" class="visually-hidden focusable skip-link"> Skip to main content </a><div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas> <header class="main-header"> <nav class="navbar navbar-default" role="navigation"><div class="container"><div class="row"><div class="navbar-header col-md-3"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><div class="region region-header"><div id="block-drupal8-zymphonies-theme-branding" class="site-branding block block-system block-system-branding-block"><div class="brand logo"> <a href="../index.html" title="Home" rel="home" class="site-branding__logo"> <img src="../sites/default/files/logo-big.png" alt="Home" /> </a></div></div></div></div><div class="col-md-9"><div class="region region-primary-menu"><div class="search-block-form block block-search" data-drupal-selector="search-block-form" id="block-drupal8-zymphonies-theme-search" role="search"><h2 class="visually-hidden">Search</h2><form action="http://sensordots.org/search/node" method="get" id="search-block-form" accept-charset="UTF-8"><div class="js-form-item form-item js-form-type-search form-item-keys js-form-item-keys form-no-label"> <label for="edit-keys" class="visually-hidden">Search</label> <input title="Enter the terms you wish to search for." data-drupal-selector="edit-keys" type="search" id="edit-keys" name="keys" value="" size="15" maxlength="128" class="form-search" /></div><div data-drupal-selector="edit-actions" class="form-actions js-form-wrapper form-wrapper" id="edit-actions"><input data-drupal-selector="edit-submit" type="submit" id="edit-submit" value="Search" class="button js-form-submit form-submit" /></div></form></div><nav role="navigation" aria-labelledby="block-drupal8-zymphonies-theme-main-menu-menu" id="block-drupal8-zymphonies-theme-main-menu"><h2 class="visually-hidden" id="block-drupal8-zymphonies-theme-main-menu-menu">Main navigation</h2><ul class="sm menu-base-theme" id="main-menu" class="menu nav navbar-nav"><li class="active"> <a href="../index.html" data-drupal-link-system-path="&lt;front&gt;">Home</a></li><li> <a href="../about.html" data-drupal-link-system-path="node/2">About</a></li><li> <a href="https://www.tindie.com/stores/blecky/">Store</a></li><li> <a href="../dots.html" data-target="#" data-toggle="dropdown">Dots</a><ul><li> <a href="../mappydot.html" data-drupal-link-system-path="node/3">MappyDot</a></li><li> <a href="../mappydot_plus.html" data-drupal-link-system-path="node/32">MappyDot+</a></li></ul></li><li> <a href="../tools.html" data-target="#" data-toggle="dropdown">Tools</a><ul><li> <a href="../devboard.html" data-drupal-link-system-path="node/9">Dev Board</a></li><li> <a href="../mounting_board.html">Mounting Board</a></li><li> <a href="../port_multiplexer.html">Port MuxR</a></li></ul></li><li> <a href="../docs.html">Docs</a></li><li> <a href="https://github.com/SensorDots">Repo</a></li><li> <a href="https://hackaday.io/project/25571-mappydot">Blog</a></li><li> <a href="../custom.html">Custom Design</a></li></ul> </nav></div></div></div></div> </nav> </header><div class="container"><div class="row"><div class="col-md-12"><div class="region region-highlighted"><div data-drupal-messages-fallback class="hidden"></div></div></div></div></div><div id="wrapper"><div class="container"><div class="row"><div class="col-md-12"></div></div><div class="row layout"><div class="content_layout"><div class=col-md-12><div class="region region-content"><div id="block-drupal8-zymphonies-theme-content" class="block block-system block-system-main-block"> <article data-history-node-id="14" role="article" about="/firmware" typeof="schema:WebPage" class="node node--type-page node--view-mode-full"> <span property="schema:name" content="Firmware Updates" class="hidden"></span><div class="node__content"><div property="schema:text"><h2>Firmware Updates</h2><p>Each of the SensorDots is able to be firmware updated via the I2C lines, even while connected in circuit. Once powered on and connected to an I2C adapter/device, the software flow of the SendorDot firmware update procedure is as follows:</p><a class="colorbox cboxElement" data-cbox-img-attrs="{&quot;alt&quot;:&quot;Firmware Update Flow&quot;}" href="../sites/default/files/inline-images/BootAndFirmware.png" title="Firmware Update Flow"><img alt="Firmware Update Flow" data-entity-type="file" data-entity-uuid="b74b133f-3af6-4738-9277-1c2cf24c6b79" height="286" src="../sites/default/files/inline-images/BootAndFirmware.png" width="209" class="align-center" /></a><p>The bootloader loads first on startup and waits for a bootloader start message on I2C address 0x07 for 200ms. This isÂ a safety feature that allows you to recover modules with a bad flash or modified firmware that prevent it going into bootloader mode while running. You can power cycle the chip by briefly shorting the reset pin on the SensorDot if it is hard wired in to a bus. If you have multiple SensorDots on a bus that aren't functional, you can hold the reset line low on all of them and just do one at a time.</p><p>When the application is running, you can enter the bootloader to enable flashing at any stage while it's operational using it's auto addressed I2C address. Once it boots into bootloader mode, it switches to I2C address 0x07 for the bootloader process. The programming software automatically changes this address for you during the firmware flashing process.</p><p>The twiboot programming software works with any standard Linux I2C device, such as /dev/i2cX on the Raspberry Pi's Broadcom chipset. If you don't have an I2C device, or are using Windows, there is also an Arduino I2C-&gt;USB adapter sketch in the repositories you can use to load the firmware with, which the twiboot-arduino application supports (each of these applications gets built by the Makefile).</p><p>Here's the output from the software:</p><pre class="hljs markdown">
twiboot-arduino -a 0x08 -d /dev/ttyS4 -w flash:MappyDot.hex
device         : /dev/ttyS4       (address: 0x08)
version        : MDBOOT328PBv2.1  (sig: 0x1e 0x95 0x16 =&gt; ATmega328PB)
flash size     : 0x7c00 / 31744   (0x80 bytes/page)
eeprom size    : 0x0000 /     0
writing flash  : [<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>] (9642)
verifing flash : [<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>] (9642)
</pre><p>If the firmware fails to verify, you can run the flash operation again. If you power cycle the SensorDot after the firmware fails to verify, or you load a modified firmware that doesn't support the bootloader mode command, then you can always recover by entering the bootloader during startup of the SensorDot.</p></div><div><a href="../sites/default/files/2017-08/dot_0.png" title="Dot" data-colorbox-gallery="gallery-page-14-AXeHunQXHPU" class="colorbox" data-cbox-img-attrs="{&quot;alt&quot;:&quot;Dot&quot;}"><img src="../sites/default/files/2017-08/dot_0.png" width="1" height="1" alt="Dot" typeof="foaf:Image" /></a></div></div></article></div></div></div></div></div></div></div><div class="footer-menu"><div class="container"><div class="row"><div class="col-sm-6 col-md-6"><div class="region region-footer-menu"> <nav role="navigation" aria-labelledby="block-drupal8-zymphonies-theme-footer-menu" id="block-drupal8-zymphonies-theme-footer"><h2 class="visually-hidden" id="block-drupal8-zymphonies-theme-footer-menu">Footer menu</h2><ul class="menu"><li class="menu-item"> <a href="../contact.html" data-drupal-link-system-path="contact">Contact</a></li><li class="menu-item"> <a href="../disclaimers.html">Disclaimers</a></li><li class="menu-item"> <a href="../news.html">News</a></li><li class="menu-item"> <a href="../privacy.html">Privacy Policy</a></li><li class="menu-item"> <a href="../newsletter/subscriptions.html" data-drupal-link-system-path="newsletter/subscriptions">Subscriptions</a></li></ul> </nav></div></div><div class="col-sm-6 col-md-6"><div class="social-media"> <a href="https://twitter.com/sensordots" class="twitter" target="_blank" ><i class="fab fa-twitter"></i></a> <a href="https://www.linkedin.com/company/18254750/" class="linkedin" target="_blank"><i class="fab fa-linkedin-in"></i></a></div></div></div></div></div><div class="copyright"><div class="container"><div class="row"><div class="col-sm-6 col-md-6"><p>Copyright Â© SensorDots 2020</p></div></div></div></div></div><script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/14","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"ajaxPageState":{"libraries":"classy\/node,colorbox\/default,colorbox_inline\/colorbox_inline,core\/html5shiv,drupal8_zymphonies_theme\/bootstrap,drupal8_zymphonies_theme\/flexslider,drupal8_zymphonies_theme\/fontawesome,drupal8_zymphonies_theme\/global-components,drupal8_zymphonies_theme\/smartmenus,system\/base","theme":"drupal8_zymphonies_theme","theme_token":null},"ajaxTrustedUrl":{"\/search\/node":true},"colorbox":{"transition":"elastic","speed":350,"opacity":0.8000000000000000444089209850062616169452667236328125,"slideshow":false,"slideshowAuto":true,"slideshowSpeed":2500,"slideshowStart":"start slideshow","slideshowStop":"stop slideshow","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","overlayClose":true,"returnFocus":true,"maxWidth":"80%","maxHeight":"80%","initialWidth":"300","initialHeight":"250","fixed":true,"scrolling":true,"mobiledetect":true,"mobiledevicewidth":"480px"},"user":{"uid":0,"permissionsHash":"e3ab66e5440975c4c1130bb59a86f381def0e44af11e4b8bc2031e564626f57f"}}</script><script src="../../ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="../sites/default/files/js/js_z8MKdK9rPFI4grt3IiJcmfRC3e2SqIgyx3dIX8GONAo.js"></script></body>
<!-- Mirrored from sensordots.org/node/14 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 Aug 2022 12:25:24 GMT -->
</html>